<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banking Analytics - Demo Interface</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1400px; margin: 0 auto; padding: 20px; background: #f5f5f5; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        .container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .panel { background: white; border: none; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        .panel h3 { margin-top: 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .demo-queries { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); margin-bottom: 20px; }
        .query-button { background: #667eea; color: white; border: none; padding: 8px 15px; margin: 5px; border-radius: 5px; cursor: pointer; font-size: 12px; }
        .query-button:hover { background: #5a6fd8; }
        .query-button.nl { background: #764ba2; }
        .query-button.nl:hover { background: #684397; }
        textarea { width: 100%; height: 100px; font-family: 'Courier New', monospace; border: 1px solid #ddd; border-radius: 5px; padding: 10px; }
        button { background: #28a745; color: white; border: none; padding: 12px 24px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        button:hover { background: #218838; }
        .results { background: #f8f9fa; padding: 15px; border-radius: 5px; white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 12px; max-height: 400px; overflow-y: auto; border: 1px solid #ddd; }
        .error { color: #dc3545; background: #f8d7da; border-color: #f5c6cb; }
        .success { color: #155724; background: #d4edda; border-color: #c3e6cb; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 11px; }
        th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
        th { background-color: #667eea; color: white; font-weight: bold; }
        tr:nth-child(even) { background-color: #f2f2f2; }
        .stats { display: flex; justify-content: space-around; background: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        .stat-card { text-align: center; }
        .stat-number { font-size: 24px; font-weight: bold; color: #667eea; }
        .stat-label { color: #666; font-size: 12px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>üè¶ Banking Analytics Dashboard</h1>
        <p>Comprehensive banking data warehouse with 250+ customers, accounts, transactions, credit cards, and loans</p>
        <p>Backend API: <a href="http://localhost:8000/docs" target="_blank" style="color: #ffd700;">http://localhost:8000/docs</a></p>
    </div>

    <div class="stats" id="statsOverview">
        <div class="stat-card">
            <div class="stat-number" id="customerCount">-</div>
            <div class="stat-label">Customers</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="accountCount">-</div>
            <div class="stat-label">Accounts</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="transactionCount">-</div>
            <div class="stat-label">Transactions</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="loanCount">-</div>
            <div class="stat-label">Loans</div>
        </div>
    </div>

    <div class="demo-queries">
        <h3>üöÄ Demo Queries - Click to Execute</h3>
        
        <h4>üí∞ Customer & Revenue Analytics</h4>
        <button class="query-button" onclick="executeDemo('sql', `
-- Top 10 customers by total account balance with risk assessment
SELECT 
    c.customer_id,
    c.first_name || ' ' || c.last_name as customer_name,
    c.customer_segment,
    c.credit_score,
    c.annual_income,
    c.risk_category,
    SUM(a.balance) as total_balance,
    COUNT(a.account_id) as account_count,
    AVG(a.balance) as avg_account_balance,
    CASE 
        WHEN SUM(a.balance) > 100000 THEN 'High Value'
        WHEN SUM(a.balance) > 50000 THEN 'Medium Value'
        ELSE 'Standard'
    END as value_tier
FROM customers c
JOIN accounts a ON c.customer_id = a.customer_id
WHERE a.account_status = 'active'
GROUP BY c.customer_id, c.first_name, c.last_name, c.customer_segment, c.credit_score, c.annual_income, c.risk_category
ORDER BY total_balance DESC
LIMIT 10;
        `)">Top Customers by Balance</button>

        <button class="query-button" onclick="executeDemo('sql', `
-- Customer profitability analysis with account and credit card revenue
SELECT 
    c.customer_segment,
    COUNT(DISTINCT c.customer_id) as customer_count,
    SUM(a.balance) as total_deposits,
    AVG(a.balance) as avg_balance_per_customer,
    COUNT(DISTINCT cc.card_id) as total_credit_cards,
    SUM(cc.current_balance) as total_cc_debt,
    AVG(cc.current_balance) as avg_cc_debt_per_customer,
    SUM(CASE WHEN l.loan_status = 'active' THEN l.outstanding_balance ELSE 0 END) as total_active_loans
FROM customers c
LEFT JOIN accounts a ON c.customer_id = a.customer_id AND a.account_status = 'active'
LEFT JOIN credit_cards cc ON c.customer_id = cc.customer_id AND cc.card_status = 'active'
LEFT JOIN loans l ON c.customer_id = l.customer_id
GROUP BY c.customer_segment
ORDER BY total_deposits DESC;
        `)">Customer Segment Analysis</button>

        <button class="query-button nl" onclick="executeDemo('natural', 'Show me the most profitable customer segments based on total deposits and loan balances')">üí° AI: Profitable Segments</button>

        <h4>üìä Transaction & Spending Analysis</h4>
        <button class="query-button" onclick="executeDemo('sql', `
-- Monthly transaction trends with spending patterns
SELECT 
    DATE_TRUNC('month', t.transaction_date) as month,
    COUNT(*) as transaction_count,
    SUM(CASE WHEN t.transaction_type IN ('deposit', 'transfer_in') THEN t.amount ELSE 0 END) as total_inflows,
    SUM(CASE WHEN t.transaction_type IN ('withdrawal', 'transfer_out', 'atm') THEN t.amount ELSE 0 END) as total_outflows,
    AVG(t.amount) as avg_transaction_amount,
    COUNT(DISTINCT t.account_id) as active_accounts
FROM transactions t
WHERE t.status = 'completed' 
    AND t.transaction_date >= CURRENT_DATE - INTERVAL '6 months'
GROUP BY DATE_TRUNC('month', t.transaction_date)
ORDER BY month DESC;
        `)">Monthly Transaction Trends</button>

        <button class="query-button" onclick="executeDemo('sql', `
-- Top spending merchants and categories analysis
SELECT 
    t.merchant_category,
    t.merchant_name,
    COUNT(*) as transaction_count,
    SUM(t.amount) as total_spent,
    AVG(t.amount) as avg_transaction_amount,
    COUNT(DISTINCT t.account_id) as unique_customers,
    ROUND(SUM(t.amount) * 100.0 / SUM(SUM(t.amount)) OVER (), 2) as percentage_of_total
FROM transactions t
WHERE t.status = 'completed' 
    AND t.transaction_type NOT IN ('deposit', 'transfer_in', 'interest')
    AND t.transaction_date >= CURRENT_DATE - INTERVAL '3 months'
GROUP BY t.merchant_category, t.merchant_name
HAVING SUM(t.amount) > 1000
ORDER BY total_spent DESC
LIMIT 15;
        `)">Top Merchants Analysis</button>

        <button class="query-button nl" onclick="executeDemo('natural', 'What are the top 5 spending categories in the last 3 months and how much did customers spend on average?')">üí° AI: Spending Categories</button>

        <h4>üí≥ Credit Card Analytics</h4>
        <button class="query-button" onclick="executeDemo('sql', `
-- Credit utilization and risk analysis
SELECT 
    c.customer_segment,
    c.risk_category,
    COUNT(cc.card_id) as total_cards,
    AVG(cc.credit_limit) as avg_credit_limit,
    AVG(cc.current_balance) as avg_current_balance,
    AVG(cc.current_balance * 100.0 / NULLIF(cc.credit_limit, 0)) as avg_utilization_rate,
    COUNT(CASE WHEN cc.current_balance * 100.0 / NULLIF(cc.credit_limit, 0) > 80 THEN 1 END) as high_utilization_cards,
    SUM(cct.rewards_earned) as total_rewards_earned
FROM customers c
JOIN credit_cards cc ON c.customer_id = cc.customer_id
LEFT JOIN credit_card_transactions cct ON cc.card_id = cct.card_id 
    AND cct.status = 'completed'
    AND cct.transaction_date >= CURRENT_DATE - INTERVAL '3 months'
WHERE cc.card_status = 'active'
GROUP BY c.customer_segment, c.risk_category
ORDER BY avg_utilization_rate DESC;
        `)">Credit Utilization Analysis</button>

        <button class="query-button" onclick="executeDemo('sql', `
-- Credit card transaction patterns and fraud detection indicators
SELECT 
    c.customer_id,
    c.first_name || ' ' || c.last_name as customer_name,
    cc.card_type,
    COUNT(cct.cc_transaction_id) as monthly_transactions,
    SUM(cct.amount) as monthly_spending,
    COUNT(DISTINCT cct.merchant_category) as unique_categories,
    COUNT(DISTINCT DATE(cct.transaction_date)) as active_days,
    MAX(cct.amount) as largest_transaction,
    STDDEV(cct.amount) as spending_volatility,
    COUNT(CASE WHEN cct.amount > 2000 THEN 1 END) as large_transactions,
    CASE 
        WHEN COUNT(CASE WHEN cct.amount > 2000 THEN 1 END) > 3 OR STDDEV(cct.amount) > 800 THEN 'High Risk'
        WHEN COUNT(CASE WHEN cct.amount > 1000 THEN 1 END) > 5 THEN 'Medium Risk'
        ELSE 'Low Risk'
    END as fraud_risk_level
FROM customers c
JOIN credit_cards cc ON c.customer_id = cc.customer_id
JOIN credit_card_transactions cct ON cc.card_id = cct.card_id
WHERE cct.status = 'completed' 
    AND cct.transaction_date >= CURRENT_DATE - INTERVAL '1 month'
    AND cc.card_status = 'active'
GROUP BY c.customer_id, c.first_name, c.last_name, cc.card_type
HAVING COUNT(cct.cc_transaction_id) > 5
ORDER BY fraud_risk_level DESC, monthly_spending DESC
LIMIT 20;
        `)">Fraud Risk Analysis</button>

        <h4>üè† Loan Portfolio Analytics</h4>
        <button class="query-button" onclick="executeDemo('sql', `
-- Loan portfolio performance and risk assessment
SELECT 
    l.loan_type,
    COUNT(*) as total_loans,
    SUM(l.loan_amount) as total_loan_amount,
    SUM(l.outstanding_balance) as total_outstanding,
    AVG(l.interest_rate * 100) as avg_interest_rate,
    AVG(l.monthly_payment) as avg_monthly_payment,
    COUNT(CASE WHEN l.loan_status = 'active' THEN 1 END) as active_loans,
    COUNT(CASE WHEN l.loan_status = 'delinquent' THEN 1 END) as delinquent_loans,
    COUNT(CASE WHEN l.loan_status = 'paid_off' THEN 1 END) as paid_off_loans,
    ROUND(COUNT(CASE WHEN l.loan_status = 'delinquent' THEN 1 END) * 100.0 / COUNT(*), 2) as delinquency_rate,
    AVG(l.payments_made) as avg_payments_made
FROM loans l
GROUP BY l.loan_type
ORDER BY total_outstanding DESC;
        `)">Loan Portfolio Overview</button>

        <button class="query-button" onclick="executeDemo('sql', `
-- Loan payment performance and collections analysis
SELECT 
    l.loan_id,
    l.loan_type,
    c.first_name || ' ' || c.last_name as customer_name,
    c.credit_score,
    l.loan_amount,
    l.outstanding_balance,
    l.monthly_payment,
    l.payments_made,
    COUNT(lp.payment_id) as total_payments_attempted,
    COUNT(CASE WHEN lp.payment_status = 'completed' THEN 1 END) as successful_payments,
    COUNT(CASE WHEN lp.payment_status = 'failed' THEN 1 END) as failed_payments,
    SUM(CASE WHEN lp.payment_status = 'completed' THEN lp.payment_amount ELSE 0 END) as total_paid,
    SUM(lp.late_fee) as total_late_fees,
    ROUND(COUNT(CASE WHEN lp.payment_status = 'completed' THEN 1 END) * 100.0 / NULLIF(COUNT(lp.payment_id), 0), 2) as payment_success_rate,
    l.loan_status
FROM loans l
JOIN customers c ON l.customer_id = c.customer_id
LEFT JOIN loan_payments lp ON l.loan_id = lp.loan_id
WHERE l.loan_status IN ('active', 'delinquent')
GROUP BY l.loan_id, l.loan_type, c.first_name, c.last_name, c.credit_score, 
         l.loan_amount, l.outstanding_balance, l.monthly_payment, l.payments_made, l.loan_status
HAVING COUNT(lp.payment_id) > 0
ORDER BY payment_success_rate ASC, total_late_fees DESC
LIMIT 15;
        `)">Payment Performance Analysis</button>

        <button class="query-button nl" onclick="executeDemo('natural', 'Which loan types have the highest delinquency rates and what is the average credit score of delinquent borrowers?')">üí° AI: Loan Risk Analysis</button>

        <h4>üè¢ Branch & Geographic Analysis</h4>
        <button class="query-button" onclick="executeDemo('sql', `
-- Branch performance and customer distribution analysis
SELECT 
    b.branch_name,
    b.city,
    b.state,
    COUNT(DISTINCT c.customer_id) as total_customers,
    COUNT(DISTINCT a.account_id) as total_accounts,
    SUM(a.balance) as total_deposits,
    AVG(a.balance) as avg_account_balance,
    COUNT(DISTINCT l.loan_id) as total_loans,
    SUM(CASE WHEN l.loan_status = 'active' THEN l.outstanding_balance ELSE 0 END) as active_loan_balance,
    AVG(c.credit_score) as avg_customer_credit_score,
    COUNT(CASE WHEN c.customer_segment = 'premium' THEN 1 END) as premium_customers,
    COUNT(CASE WHEN c.customer_segment = 'private_banking' THEN 1 END) as private_banking_customers
FROM branches b
LEFT JOIN customers c ON b.branch_id = c.branch_id
LEFT JOIN accounts a ON c.customer_id = a.customer_id AND a.account_status = 'active'
LEFT JOIN loans l ON c.customer_id = l.customer_id
GROUP BY b.branch_id, b.branch_name, b.city, b.state
ORDER BY total_deposits DESC;
        `)">Branch Performance Analysis</button>

        <button class="query-button nl" onclick="executeDemo('natural', 'Show me branch performance metrics including customer count, deposits, and average credit scores by location')">üí° AI: Branch Analytics</button>
    </div>
    
    <div class="container">
        <div class="panel">
            <h3>üìä Custom SQL Query</h3>
            <textarea id="sqlQuery" placeholder="Enter your SQL query...">SELECT 
    c.customer_segment,
    COUNT(*) as customers,
    AVG(c.annual_income) as avg_income,
    AVG(c.credit_score) as avg_credit_score
FROM customers c 
GROUP BY c.customer_segment 
ORDER BY avg_income DESC;</textarea>
            <br><br>
            <button onclick="executeSQL()">Execute SQL</button>
            <div id="sqlResults" class="results"></div>
        </div>

        <div class="panel">
            <h3>ü§ñ AI Natural Language Query</h3>
            <textarea id="nlQuery" placeholder="Ask in natural language...">Show me customers with credit scores above 750 who have multiple accounts and their total account balances</textarea>
            <br><br>
            <button onclick="executeNL()">Ask AI</button>
            <div id="nlResults" class="results"></div>
        </div>
    </div>

    <div class="container">
        <div class="panel">
            <h3>üóÑÔ∏è Database Schema</h3>
            <button onclick="getSchema()">Load Schema</button>
            <div id="schemaResults" class="results"></div>
        </div>

        <div class="panel">
            <h3>üìà Database Statistics</h3>
            <button onclick="getDetailedStats()">Get Detailed Stats</button>
            <div id="detailedStatsResults" class="results"></div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8000/api';

        async function executeDemo(type, query) {
            const resultsDiv = document.getElementById(type === 'sql' ? 'sqlResults' : 'nlResults');
            const textarea = document.getElementById(type === 'sql' ? 'sqlQuery' : 'nlQuery');
            
            // Set the query in the textarea
            textarea.value = query.trim();
            
            // Execute the query
            if (type === 'sql') {
                await executeSQL();
            } else {
                await executeNL();
            }
        }

        async function executeSQL() {
            const query = document.getElementById('sqlQuery').value;
            const resultsDiv = document.getElementById('sqlResults');
            
            resultsDiv.innerHTML = '‚è≥ Executing query...';
            
            try {
                const response = await fetch(`${API_BASE}/query/execute`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query: query, query_type: 'sql' })
                });
                
                const data = await response.json();
                
                if (data.success && data.results) {
                    let html = `<div class="success">‚úÖ Query executed in ${data.execution_time_ms}ms</div>`;
                    html += `<p><strong>Rows:</strong> ${data.row_count}</p>`;
                    
                    if (data.results.data.length > 0) {
                        html += '<table>';
                        html += '<tr>' + data.results.columns.map(col => `<th>${col}</th>`).join('') + '</tr>';
                        data.results.data.forEach(row => {
                            html += '<tr>' + data.results.columns.map(col => `<td>${row[col] || ''}</td>`).join('') + '</tr>';
                        });
                        html += '</table>';
                    }
                    
                    resultsDiv.innerHTML = html;
                } else {
                    resultsDiv.innerHTML = `<div class="error">‚ùå Error: ${data.error}</div>`;
                }
            } catch (error) {
                resultsDiv.innerHTML = `<div class="error">‚ùå Network Error: ${error.message}</div>`;
            }
        }

        async function executeNL() {
            const query = document.getElementById('nlQuery').value;
            const resultsDiv = document.getElementById('nlResults');
            
            resultsDiv.innerHTML = 'ü§ñ Processing natural language query...';
            
            try {
                const response = await fetch(`${API_BASE}/query/execute`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query: query, query_type: 'natural' })
                });
                
                const data = await response.json();
                
                if (data.success && data.results) {
                    let html = `<div class="success">‚úÖ AI Query executed in ${data.execution_time_ms}ms</div>`;
                    html += `<p><strong>Generated SQL:</strong></p><code style="background:#f8f9fa;padding:10px;display:block;border-radius:5px;">${data.generated_sql}</code>`;
                    html += `<p><strong>Rows:</strong> ${data.row_count}</p>`;
                    
                    if (data.insights) {
                        html += `<p><strong>AI Insights:</strong><br>${data.insights}</p>`;
                    }
                    
                    if (data.results.data.length > 0) {
                        html += '<table>';
                        html += '<tr>' + data.results.columns.map(col => `<th>${col}</th>`).join('') + '</tr>';
                        data.results.data.forEach(row => {
                            html += '<tr>' + data.results.columns.map(col => `<td>${row[col] || ''}</td>`).join('') + '</tr>';
                        });
                        html += '</table>';
                    }
                    
                    resultsDiv.innerHTML = html;
                } else {
                    resultsDiv.innerHTML = `<div class="error">‚ùå Error: ${data.error}</div>`;
                }
            } catch (error) {
                resultsDiv.innerHTML = `<div class="error">‚ùå Network Error: ${error.message}</div>`;
            }
        }

        async function getSchema() {
            const resultsDiv = document.getElementById('schemaResults');
            resultsDiv.innerHTML = '‚è≥ Loading schema...';
            
            try {
                const response = await fetch(`${API_BASE}/schema/`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ include_relationships: true })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    let html = `<div class="success">‚úÖ Schema loaded successfully</div>`;
                    html += `<p><strong>Tables:</strong> ${Object.keys(data.schema).length} | <strong>Relationships:</strong> ${data.relationships ? data.relationships.length : 0}</p>`;
                    
                    html += '<h4>üìã Tables & Columns:</h4>';
                    Object.keys(data.schema).forEach(tableName => {
                        const table = data.schema[tableName];
                        html += `<p><strong>${tableName}</strong> (${table.columns.length} columns)<br>`;
                        html += `<small>${table.columns.map(col => col.name).join(', ')}</small></p>`;
                    });
                    
                    if (data.relationships && data.relationships.length > 0) {
                        html += '<h4>üîó Relationships:</h4>';
                        data.relationships.forEach(rel => {
                            html += `<p><code>${rel.from_table}.${rel.from_column}</code> ‚Üí <code>${rel.to_table}.${rel.to_column}</code></p>`;
                        });
                    }
                    
                    resultsDiv.innerHTML = html;
                } else {
                    resultsDiv.innerHTML = `<div class="error">‚ùå Error: ${data.error}</div>`;
                }
            } catch (error) {
                resultsDiv.innerHTML = `<div class="error">‚ùå Network Error: ${error.message}</div>`;
            }
        }

        async function getDetailedStats() {
            const resultsDiv = document.getElementById('detailedStatsResults');
            resultsDiv.innerHTML = '‚è≥ Loading detailed statistics...';
            
            try {
                const queries = [
                    "SELECT 'Customers by Segment' as metric, customer_segment, COUNT(*) as count FROM customers GROUP BY customer_segment",
                    "SELECT 'Accounts by Type' as metric, account_type, COUNT(*) as count FROM accounts GROUP BY account_type",
                    "SELECT 'Loans by Status' as metric, loan_status, COUNT(*) as count FROM loans GROUP BY loan_status",
                    "SELECT 'Transactions by Channel' as metric, channel, COUNT(*) as count FROM transactions WHERE transaction_date >= CURRENT_DATE - INTERVAL '30 days' GROUP BY channel",
                ];
                
                let html = '<div class="success">‚úÖ Database Statistics</div>';
                
                for (let query of queries) {
                    const response = await fetch(`${API_BASE}/query/execute`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ query: query, query_type: 'sql' })
                    });
                    
                    const data = await response.json();
                    if (data.success && data.results.data.length > 0) {
                        const metric = data.results.data[0].metric;
                        html += `<h4>${metric}:</h4>`;
                        data.results.data.forEach(row => {
                            if (row.customer_segment || row.account_type || row.loan_status || row.channel) {
                                const label = row.customer_segment || row.account_type || row.loan_status || row.channel;
                                html += `<p><strong>${label}:</strong> ${row.count}</p>`;
                            }
                        });
                    }
                }
                
                resultsDiv.innerHTML = html;
            } catch (error) {
                resultsDiv.innerHTML = `<div class="error">‚ùå Network Error: ${error.message}</div>`;
            }
        }

        async function loadOverviewStats() {
            try {
                const stats = [
                    { query: 'SELECT COUNT(*) as count FROM customers', element: 'customerCount' },
                    { query: 'SELECT COUNT(*) as count FROM accounts', element: 'accountCount' },
                    { query: 'SELECT COUNT(*) as count FROM transactions', element: 'transactionCount' },
                    { query: 'SELECT COUNT(*) as count FROM loans', element: 'loanCount' }
                ];
                
                for (let stat of stats) {
                    const response = await fetch(`${API_BASE}/query/execute`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ query: stat.query, query_type: 'sql' })
                    });
                    
                    const data = await response.json();
                    if (data.success && data.results.data.length > 0) {
                        document.getElementById(stat.element).textContent = data.results.data[0].count.toLocaleString();
                    }
                }
            } catch (error) {
                console.error('Error loading overview stats:', error);
            }
        }

        // Auto-load schema and stats on page load
        window.onload = function() {
            loadOverviewStats();
            getSchema();
        }
    </script>
</body>
</html>
